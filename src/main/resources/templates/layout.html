<!doctype html>
<html lang="es" th:fragment="layout(title,content)">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <!-- Title y descripción con fallback -->
    <title th:text="${pageTitle} ?: 'DevJobs — Empleos tech y desarrollo'">
        DevJobs — Empleos tech y desarrollo
    </title>

    <meta name="description"
        th:attr="content=${pageDescription} ?: 'Encuentra ofertas para desarrolladores, QA y DevOps. Filtra por modalidad, tipo y ubicación.'" />

    <!-- Canonical absoluto (lo seteamos desde el controlador) -->
    <link rel="canonical" th:if="${canonicalUrl}" th:href="${canonicalUrl}" />

    <!-- Robots (indexable por defecto) -->
    <meta name="robots" content="index,follow" />

    <!-- Open Graph / Twitter -->
    <meta property="og:title" th:attr="content=${pageTitle} ?: 'DevJobs — Empleos tech y desarrollo'" />
    <meta property="og:description"
        th:attr="content=${pageDescription} ?: 'Encuentra ofertas para desarrolladores, QA y DevOps.'" />
    <meta property="og:type" content="website" />
    <meta property="og:url" th:if="${canonicalUrl}" th:attr="content=${canonicalUrl}" />
    <meta property="og:locale" content="es_CO" />
    <meta property="og:image" th:if="${ogImage}" th:attr="content=${ogImage}" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" th:attr="content=${pageTitle} ?: 'DevJobs — Empleos tech y desarrollo'" />
    <meta name="twitter:description"
        th:attr="content=${pageDescription} ?: 'Encuentra ofertas para desarrolladores, QA y DevOps.'" />
    <meta name="twitter:image" th:if="${ogImage}" th:attr="content=${ogImage}" />

    <!-- Favicon & PWA -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#4f46e5">

    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { theme: { extend: { fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] } } } }</script>
</head>

<body class="bg-slate-50 font-sans">
    <a href="#main" class="sr-only focus:not-sr-only focus:outline-none focus:ring p-2 bg-white text-slate-900">
        Saltar al contenido principal
    </a>
    <header class="bg-gradient-to-r from-indigo-600 to-cyan-500 text-white" role="banner">
        <div class="max-w-6xl mx-auto px-6 py-6 flex flex-wrap items-center gap-4">
            <a href="/jobs" class="text-2xl font-extrabold tracking-tight">DevJobs</a>
            <nav class="ml-auto flex gap-3" aria-label="Navegación principal">
                <a href="/jobs" class="px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20">Ofertas</a>
                <a href="/jobs/new" class="px-4 py-2 rounded-xl bg-white text-slate-900 font-semibold shadow">Nueva
                    oferta</a>
            </nav>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-6 py-8" id="main" role="main" tabindex="-1">
        <div th:if="${msg}" class="mb-6 rounded-lg bg-emerald-100 text-emerald-900 px-4 py-3" th:text="${msg}"></div>
        <div th:replace="${content}"></div>
    </main>

    <footer class="border-t mt-12" role="contentinfo">
        <div class="max-w-6xl mx-auto px-6 py-6 text-sm text-slate-500">
            © 2025 DevJobs — AA3-EV01 · Spring Boot 3
        </div>
    </footer>
</body>

</html>